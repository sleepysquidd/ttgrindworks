[gd_scene load_steps=15 format=3 uid="uid://b6eexfh4v078o"]

[ext_resource type="Script" uid="uid://dydlaq1hqlyxo" path="res://objects/interactables/elevators/sellbot_elevator.gd" id="1_6a758"]
[ext_resource type="PackedScene" uid="uid://4vgsokdvgcx2" path="res://models/props/facility_objects/transporters/sellbot_elevator/elevator_new.fbx" id="1_g5xfo"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gq5xi"]
data = PackedVector3Array(0, 1.8, -1.36, 0.8, 1.8, -1.36, 0.8, 0.9, -1.36, 0.8, 0.9, -1.36, 0, 0.9, -1.36, 0, 1.8, -1.36, 0.8, 0, -1.36, 0, 0, -1.36, 0, 0.9, -1.36, 0, 0.9, -1.36, 0.8, 0.9, -1.36, 0.8, 0, -1.36, 0, 0, -1.36, -0.8, 0, -1.36, -0.8, 0.9, -1.36, -0.8, 0.9, -1.36, 0, 0.9, -1.36, 0, 0, -1.36, -0.8, 1.8, -1.36, 0, 1.8, -1.36, 0, 0.9, -1.36, 0, 0.9, -1.36, -0.8, 0.9, -1.36, -0.8, 1.8, -1.36, -0.8, 1.8, -0.7711, -0.8, 1.8, -1.36, -0.8, 0.9, -1.36, -0.8, 0.9, -1.36, -0.8, 0.9, -0.7711, -0.8, 1.8, -0.7711, -0.8, 0, -1.36, -0.8, 0, -0.7711, -0.8, 0.9, -0.7711, -0.8, 0.9, -0.7711, -0.8, 0.9, -1.36, -0.8, 0, -1.36, -0.8, 0, -0.7711, -0.8, 0, -0.16, -0.8, 0.9, -0.16, -0.8, 0.9, -0.16, -0.8, 0.9, -0.7711, -0.8, 0, -0.7711, -0.8, 1.8, -0.16, -0.8, 1.8, -0.7711, -0.8, 0.9, -0.7711, -0.8, 0.9, -0.7711, -0.8, 0.9, -0.16, -0.8, 1.8, -0.16, 0.8, 1.8, -1.36, 0.8, 1.8, -0.7711, 0.8, 0.9, -0.7711, 0.8, 0.9, -0.7711, 0.8, 0.9, -1.36, 0.8, 1.8, -1.36, 0.8, 0, -0.7711, 0.8, 0, -1.36, 0.8, 0.9, -1.36, 0.8, 0.9, -1.36, 0.8, 0.9, -0.7711, 0.8, 0, -0.7711, 0.8, 0, -0.16, 0.8, 0, -0.7711, 0.8, 0.9, -0.7711, 0.8, 0.9, -0.7711, 0.8, 0.9, -0.16, 0.8, 0, -0.16, 0.8, 1.8, -0.7711, 0.8, 1.8, -0.16, 0.8, 0.9, -0.16, 0.8, 0.9, -0.16, 0.8, 0.9, -0.7711, 0.8, 1.8, -0.7711, -0.8, 0.02, -0.16, 0.8, 0.02, -0.16, 0.8, 0, -0.16, 0.8, 0, -0.16, -0.8, 0, -0.16, -0.8, 0.02, -0.16, -0.8, 1.8, -0.3315, -0.6285, 1.8, -0.3315, -0.6285, 1.8, -1.1885, -0.6285, 1.8, -1.1885, -0.8, 1.8, -1.1885, -0.8, 1.8, -0.3315, 0.8, 1.8, -1.1885, 0.8, 1.8, -1.36, -0.8, 1.8, -1.36, -0.8, 1.8, -1.36, -0.8, 1.8, -1.1885, 0.8, 1.8, -1.1885, 0.8, 1.8, -0.16, 0.8, 1.8, -0.3315, -0.8, 1.8, -0.3315, -0.8, 1.8, -0.3315, -0.8, 1.8, -0.16, 0.8, 1.8, -0.16, 0.6285, 1.8, -0.3315, 0.8, 1.8, -0.3315, 0.8, 1.8, -1.1885, 0.8, 1.8, -1.1885, 0.6285, 1.8, -1.1885, 0.6285, 1.8, -0.3315, 0.6285, 1.8, -0.3315, 0.6285, 1.8, -1.1885, -0.6285, 1.8, -1.1885, -0.6285, 1.8, -1.1885, -0.6285, 1.8, -0.3315, 0.6285, 1.8, -0.3315)
backface_collision = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ui8k3"]
data = PackedVector3Array(0.6285, 0.02, -1.1885, 0.6285, 0.02, -0.3315, -0.6285, 0.02, -0.3315, -0.6285, 0.02, -0.3315, -0.6285, 0.02, -1.1885, 0.6285, 0.02, -1.1885, 0.8, 0.02, -0.3315, 0.6285, 0.02, -0.3315, 0.6285, 0.02, -1.1885, 0.6285, 0.02, -1.1885, 0.8, 0.02, -1.1885, 0.8, 0.02, -0.3315, 0.8, 0.02, -1.36, 0.8, 0.02, -1.1885, -0.8, 0.02, -1.1885, -0.8, 0.02, -1.1885, -0.8, 0.02, -1.36, 0.8, 0.02, -1.36, 0.8, 0.02, -0.3315, 0.8, 0.02, -0.16, -0.8, 0.02, -0.16, -0.8, 0.02, -0.16, -0.8, 0.02, -0.3315, 0.8, 0.02, -0.3315, -0.6285, 0.02, -0.3315, -0.8, 0.02, -0.3315, -0.8, 0.02, -1.1885, -0.8, 0.02, -1.1885, -0.6285, 0.02, -1.1885, -0.6285, 0.02, -0.3315)
backface_collision = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_3i4we"]
data = PackedVector3Array(-1.5, 1.8, -0.21, -0.7, 1.8, -0.21, -0.7, 0, -0.21, -0.7, 0, -0.21, -1.5, 0, -0.21, -1.5, 1.8, -0.21, -0.7, 0, -0.21, -0.7, 1.8, -0.21, -0.7, 1.8, -0.31, -0.7, 1.8, -0.31, -0.7, 0, -0.31, -0.7, 0, -0.21, -0.7, 1.8, -0.21, -1.5, 1.8, -0.21, -1.5, 1.8, -0.31, -1.5, 1.8, -0.31, -0.7, 1.8, -0.31, -0.7, 1.8, -0.21, -1.5, 1.8, -0.21, -1.5, 0, -0.21, -1.5, 0, -0.31, -1.5, 0, -0.31, -1.5, 1.8, -0.31, -1.5, 1.8, -0.21, -1.5, 0, -0.21, -0.7, 0, -0.21, -0.7, 0, -0.31, -0.7, 0, -0.31, -1.5, 0, -0.31, -1.5, 0, -0.21, -0.7, 0, -0.31, -0.7, 1.8, -0.31, -1.5, 1.8, -0.31, -1.5, 1.8, -0.31, -1.5, 0, -0.31, -0.7, 0, -0.31)
backface_collision = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gu5fv"]
data = PackedVector3Array(0.7, 1.8, -0.21, 1.5, 1.8, -0.21, 1.5, 0, -0.21, 1.5, 0, -0.21, 0.7, 0, -0.21, 0.7, 1.8, -0.21, 1.5, 0, -0.21, 1.5, 1.8, -0.21, 1.5, 1.8, -0.31, 1.5, 1.8, -0.31, 1.5, 0, -0.31, 1.5, 0, -0.21, 1.5, 1.8, -0.21, 0.7, 1.8, -0.21, 0.7, 1.8, -0.31, 0.7, 1.8, -0.31, 1.5, 1.8, -0.31, 1.5, 1.8, -0.21, 0.7, 1.8, -0.21, 0.7, 0, -0.21, 0.7, 0, -0.31, 0.7, 0, -0.31, 0.7, 1.8, -0.31, 0.7, 1.8, -0.21, 0.7, 0, -0.21, 1.5, 0, -0.21, 1.5, 0, -0.31, 1.5, 0, -0.31, 0.7, 0, -0.31, 0.7, 0, -0.21, 1.5, 0, -0.31, 1.5, 1.8, -0.31, 0.7, 1.8, -0.31, 0.7, 1.8, -0.31, 0.7, 0, -0.31, 1.5, 0, -0.31)
backface_collision = true

[sub_resource type="BoxShape3D" id="BoxShape3D_v5m6k"]
size = Vector3(1.44519, 1.7311, 1.12213)

[sub_resource type="Animation" id="Animation_qbqq8"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("suit_elevator_1/left_door:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.7, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("suit_elevator_1/right_door:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-0.7, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_rmywj"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("suit_elevator_1/left_door:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("suit_elevator_1/right_door:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_ntubb"]
resource_name = "close"
length = 1.9
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("suit_elevator_1/left_door:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0.7, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.9)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("suit_elevator_1/right_door:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, -0.7, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.9)
}

[sub_resource type="Animation" id="Animation_5i3eh"]
resource_name = "open"
length = 1.6
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("suit_elevator_1/left_door:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0.7, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.6)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("suit_elevator_1/right_door:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-0.7, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.6)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_apb5u"]
_data = {
&"RESET": SubResource("Animation_qbqq8"),
&"RESET_OPEN": SubResource("Animation_rmywj"),
&"close": SubResource("Animation_ntubb"),
&"open": SubResource("Animation_5i3eh")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_3i012"]
size = Vector3(0.808228, 2.20966, 1.32501)

[sub_resource type="BoxShape3D" id="BoxShape3D_4kp18"]
size = Vector3(1.61276, 0.422844, 1.32501)

[node name="SellbotElevator" node_paths=PackedStringArray("floor_lights", "animator", "player_pos", "elevator_cam") instance=ExtResource("1_g5xfo")]
script = ExtResource("1_6a758")
floor_lights = [NodePath("suit_elevator_1/light_panel/floor_light_buttons/floor_light_1"), NodePath("suit_elevator_1/light_panel/floor_light_buttons/floor_light_2"), NodePath("suit_elevator_1/light_panel/floor_light_buttons/floor_light_3"), NodePath("suit_elevator_1/light_panel/floor_light_buttons/floor_light_4"), NodePath("suit_elevator_1/light_panel/floor_light_buttons/floor_light_5")]
animator = NodePath("AnimationPlayer")
player_pos = NodePath("PlayerPosition")
elevator_cam = NodePath("ElevatorCam")
opened = true

[node name="StaticBody3D" type="StaticBody3D" parent="suit_elevator_1/elevator" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="suit_elevator_1/elevator/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_gq5xi")

[node name="StaticBody3D" type="StaticBody3D" parent="suit_elevator_1/ground" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="suit_elevator_1/ground/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_ui8k3")

[node name="decals" parent="suit_elevator_1/flashing/decal_base" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.001)

[node name="decals2" parent="suit_elevator_1/flashing/decal_base1" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.001)

[node name="left_door" parent="suit_elevator_1" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="suit_elevator_1/left_door" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="suit_elevator_1/left_door/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_3i4we")

[node name="right_door" parent="suit_elevator_1" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="suit_elevator_1/right_door" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="suit_elevator_1/right_door/StaticBody3D" index="0"]
shape = SubResource("ConcavePolygonShape3D_gu5fv")

[node name="collisions" parent="suit_elevator_1" index="9"]
visible = false

[node name="flashing_collisions" parent="suit_elevator_1" index="10"]
visible = false

[node name="door_collisions" parent="suit_elevator_1" index="11"]
visible = false

[node name="PlayerCollision" type="Area3D" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.57399, -0.495661)
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayerCollision" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0100098, 1.48097, -0.29184)
shape = SubResource("BoxShape3D_v5m6k")

[node name="ElevatorCam" type="Camera3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 0.981627, 0.190809, 0, -0.190809, 0.981627, 0, 1.49, 1.476)

[node name="PlayerPosition" type="Node3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.757227)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="4"]
libraries = {
"": SubResource("AnimationLibrary_apb5u")
}

[node name="Collisions" type="StaticBody3D" parent="." index="5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Collisions" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2033, 1.10129, -0.760529)
shape = SubResource("BoxShape3D_3i012")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Collisions" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19832, 1.10129, -0.760529)
shape = SubResource("BoxShape3D_3i012")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Collisions" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00055337, 1.99457, -0.760529)
shape = SubResource("BoxShape3D_4kp18")

[connection signal="body_entered" from="PlayerCollision" to="." method="body_entered"]
